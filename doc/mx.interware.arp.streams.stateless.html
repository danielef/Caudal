<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>mx.interware.arp.streams.stateless documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Arp 1.1.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mx</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interware</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>arp</span></div></div></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></div></li><li class="depth-5 branch"><a href="mx.interware.arp.core.atom-state.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atom-state</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.email.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>email</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.folds.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>folds</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.global.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>global</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.immutant-avout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>immutant-avout</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.immutant-state.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>immutant-state</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.listener.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>listener</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.main.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>main</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.parsers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parsers</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repl</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.scheduler-server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scheduler-server</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.core.starter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>starter</span></div></a></li><li class="depth-5"><a href="mx.interware.arp.core.state.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -424px;"><span class="top" style="height: 433px;"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-5 branch"><a href="mx.interware.arp.io.client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>client</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.io.elastic.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>elastic</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.io.kafka.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>kafka</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.io.log-feed-simulator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>log-feed-simulator</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.io.log4j-server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>log4j-server</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.io.server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>server</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.io.syslog-server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>syslog-server</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.io.tailer-server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tailer-server</span></div></a></li><li class="depth-5"><a href="mx.interware.arp.io.tcp-server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tcp-server</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>streams</span></div></div></li><li class="depth-5 branch"><a href="mx.interware.arp.streams.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.streams.stateful.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stateful</span></div></a></li><li class="depth-5 current"><a href="mx.interware.arp.streams.stateless.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stateless</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>test</span></div></div></li><li class="depth-5 branch"><a href="mx.interware.arp.test.simple-config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>simple-config</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.test.simple-parser.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>simple-parser</span></div></a></li><li class="depth-5"><a href="mx.interware.arp.test.testers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>testers</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>util</span></div></div></li><li class="depth-5 branch"><a href="mx.interware.arp.util.arp-util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>arp-util</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.util.date-util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>date-util</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.util.id-util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>id-util</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.util.matrix.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>matrix</span></div></a></li><li class="depth-5 branch"><a href="mx.interware.arp.util.ns-util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ns-util</span></div></a></li><li class="depth-5"><a href="mx.interware.arp.util.rest-util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rest-util</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var--.3EDEBUG"><div class="inner"><span>-&gt;DEBUG</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var--.3EERROR"><div class="inner"><span>-&gt;ERROR</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var--.3EINFO"><div class="inner"><span>-&gt;INFO</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var--.3EWARN"><div class="inner"><span>-&gt;WARN</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-anomaly-by-percentil"><div class="inner"><span>anomaly-by-percentil</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-anomaly-by-stdev"><div class="inner"><span>anomaly-by-stdev</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-by"><div class="inner"><span>by</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-decorate"><div class="inner"><span>decorate</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-default"><div class="inner"><span>default</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-forward"><div class="inner"><span>forward</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-join"><div class="inner"><span>join</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-percentiles"><div class="inner"><span>percentiles</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-reinject"><div class="inner"><span>reinject</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-smap"><div class="inner"><span>smap</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-split"><div class="inner"><span>split</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-store.21"><div class="inner"><span>store!</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-time-stampit"><div class="inner"><span>time-stampit</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-where"><div class="inner"><span>where</span></div></a></li><li class="depth-1"><a href="mx.interware.arp.streams.stateless.html#var-with"><div class="inner"><span>with</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">mx.interware.arp.streams.stateless</h2><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var--.3EDEBUG"><h3>-&gt;DEBUG</h3><div class="usage"><code>(-&gt;DEBUG fields &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that sends a DEBUG event to arp log </p>
<blockquote><p><strong>Arguments</strong>:<br/><em>fields</em> : can be<br/>- :all: then sends event to log with DEBUG level<br/>- vector of keywords: send event with keys contained in vector to log with DEBUG level<br/>- formatter-fn: a fn of arity 1 that the result will be the output to de log in DEBUG level<br/><em>children</em>: Children streamer functions to be propagated </p>
</blockquote></div></div></div><div class="public anchor" id="var--.3EERROR"><h3>-&gt;ERROR</h3><div class="usage"><code>(-&gt;ERROR fields &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that sends a DEBUG event to arp log </p>
<blockquote><p><strong>Arguments</strong>:<br/><em>fields</em> : can be<br/>- :all: then sends event to log with ERROR level<br/>- vector of keywords: send event with keys contained in vector to log with ERROR level<br/>- formatter-fn: a fn of arity 1 that the result will be the output to de log in DEBUG level<br/><em>children</em>: Children streamer functions to be propagated </p>
</blockquote></div></div></div><div class="public anchor" id="var--.3EINFO"><h3>-&gt;INFO</h3><div class="usage"><code>(-&gt;INFO fields &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that sends a INFO event to arp log </p>
<blockquote><p><strong>Arguments</strong>:<br/><em>fields</em> : can be<br/>- :all: then sends event to log with INFO level<br/>- vector of keywords: send event with keys contained in vector to log with DEBUG level<br/>- formatter-fn: a fn of arity 1 that the result will be the output to de log in DEBUG level<br/><em>children</em>: Children streamer functions to be propagated </p>
</blockquote></div></div></div><div class="public anchor" id="var--.3EWARN"><h3>-&gt;WARN</h3><div class="usage"><code>(-&gt;WARN fields &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that sends a WARN event to arp log </p>
<blockquote><p><strong>Arguments</strong>:<br/><em>fields</em> : can be<br/>- :all: then sends event to log with WARN level<br/>- vector of keywords: send event with keys contained in vector to log with DEBUG level<br/>- formatter-fn: a fn of arity 1 that the result will be the output to de log in DEBUG level<br/><em>children</em>: Children streamer functions to be propagated </p>
</blockquote></div></div></div><div class="public anchor" id="var-anomaly-by-percentil"><h3>anomaly-by-percentil</h3><div class="usage"><code>(anomaly-by-percentil metric-key percentiles-key percentil &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that propagates to children if metric-key &gt; (avg + (stdev-factor * stdev)) </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>stdev-factor</em>: a number representing who many sigmas to allow over avg  <em>metric-key</em>: the key where the value to lookfor is inside the event  <em>avg-key</em>: the key where the value of the average is inside the event  <em>stdev-key</em>: the key where the value of the sigma is inside the event</p>
</blockquote></div></div></div><div class="public anchor" id="var-anomaly-by-stdev"><h3>anomaly-by-stdev</h3><div class="usage"><code>(anomaly-by-stdev stdev-factor metric-key avg-key stdev-key &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that propagates to children if metric-key &gt; (avg + (stdev-factor * stdev)) </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>stdev-factor</em>: a number representing who many sigmas to allow over avg  <em>metric-key</em>: the key where the value to lookfor is inside the event  <em>avg-key</em>: the key where the value of the average is inside the event  <em>stdev-key</em>: the key where the value of the sigma is inside the event</p>
</blockquote></div></div></div><div class="public anchor" id="var-by"><h3>by</h3><div class="usage"><code>(by fields &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that groups events by values of sent keys </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>fields</em>: Data keys to group by<br/> <em>children</em>: Children streamer functions to be propagated</p>
</blockquote></div></div></div><div class="public anchor" id="var-decorate"><h3>decorate</h3><div class="usage"><code>(decorate state-key-or-fn &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that substracts information from state, merges it with the current event and then propagates the merged data </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>state-key-of-fn</em>: Can be: - a function that when is applied to current event, returns the state key - a keyword, a vector is created with this key name that stores values from <strong>by</strong> streamers in execution path</p>
</blockquote></div></div></div><div class="public anchor" id="var-default"><h3>default</h3><div class="usage"><code>(default key value &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that sets a default value for a key of an event only if it does not exist or it does not have a value </p>
<blockquote><p><strong>Arguments:</strong><br/> <em>key</em>: Key where the value will be set if it does not exist or it does not have a value<br/> <em>value</em>: Default value to be assigned<br/> <em>children</em>: Children streamer functions to be propagated</p>
</blockquote></div></div></div><div class="public anchor" id="var-forward"><h3>forward</h3><div class="usage"><code>(forward arp-host arp-port &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that sends events to other ARP using TCP </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>arp-host</em>: host name or ip of ARP receiver<br/> <em>port</em>: Port number on the ARP host enabled to listen for events<br/> <em>children</em>: Streamers to propagate the unchanged event </p>
</blockquote></div></div></div><div class="public anchor" id="var-join"><h3>join</h3><div class="usage"><code>(join &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that groups eliminates the efect of one &lsquo;by&rsquo; </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>fields</em>: Data keys to group by<br/> <em>children</em>: Children streamer functions to be propagated</p>
</blockquote></div></div></div><div class="public anchor" id="var-percentiles"><h3>percentiles</h3><div class="usage"><code>(percentiles metric-key percentiles-key percents &amp; children)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-reinject"><h3>reinject</h3><div class="usage"><code>(reinject &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that reinjects events to initial function in order to execute the whole proccess over it again.</p></div></div></div><div class="public anchor" id="var-smap"><h3>smap</h3><div class="usage"><code>(smap fun &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that applies a transformation function to events and propagate them<br/>similarly to clojure&rsquo;s map function </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>fun</em>: Tranformation function<br/> <em>children</em>: Children streamer functions to be propagated</p>
</blockquote></div></div></div><div class="public anchor" id="var-split"><h3>split</h3><div class="usage"><code>(split &amp; exprs)</code></div><div class="doc"><div class="markdown"><p>Streamer function that filters events by multiple conditionals </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>exprs</em>: Conditionals to filter </p>
</blockquote></div></div></div><div class="public anchor" id="var-store.21"><h3>store!</h3><div class="usage"><code>(store! id-fn &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that stores an event in state using a function for key names </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>id-fn</em>: Function to calculate key names<br/> <em>children</em>: Children streamer functions to be propagated </p>
</blockquote></div></div></div><div class="public anchor" id="var-time-stampit"><h3>time-stampit</h3><div class="usage"><code>(time-stampit key &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that stores the current timestamp in milliseconds in an event </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>key</em>: key to store the current timestamp in milliseconds<br/> <em>children</em>: Children streamer functions to be propagated </p>
</blockquote></div></div></div><div class="public anchor" id="var-where"><h3>where</h3><div class="usage"><code>(where pred &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that filters events using a conditional predicate </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>pred</em>: Conditional predicate to filter<br/> <em>children</em>: Children streamer functions to be propagated</p>
</blockquote></div></div></div><div class="public anchor" id="var-with"><h3>with</h3><div class="usage"><code>(with key value &amp; children)</code></div><div class="doc"><div class="markdown"><p>Streamer function that sets a value for a key in an event </p>
<blockquote><p><strong>Arguments</strong>:<br/> <em>key</em>: Key where the value will be set<br/> <em>value</em>: Value to be assigned to the key<br/> <em>children</em>: Children streamer functions to be propagated </p>
</blockquote></div></div></div></div></body></html>